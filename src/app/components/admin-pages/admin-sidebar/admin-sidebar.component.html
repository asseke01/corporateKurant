<div class="app-container">
  <div class="sidebar-container" [class.open]="isOpen">
    <img src="assets/img/logo.svg" width="130" alt="logo" style="margin: 20px 0 10px 10px">
    <hr />
    <ul>
      <li routerLink="application" routerLinkActive="active-link">
        <i class="bi bi-collection"></i> Өтінімдер
      </li>
      <li routerLink="trust-box" routerLinkActive="active-link">
        <i class="bi bi-box"></i> Сенім жәшігі
      </li>
      <li routerLink="news" routerLinkActive="active-link">
        <i class="bi bi-layout-text-sidebar"></i> Жаңалықтар
      </li>
    </ul>
  </div>

  <div class="main-content" [class.shifted]="isOpen">
    <div class="navbar">
      <div class="buttons">
        <div class="menu-toggle" (click)="toggleSidebar()">
          <span *ngIf="!isOpen">&#9776;</span>
          <span *ngIf="isOpen">&#9776;</span>
        </div>
      </div>
      <div class="navbar-menu">
        <div class="user-dropdown" (click)="toggleDropdown()">
          <span>{{userData.fullname}}</span>
          <i class="bi bi-chevron-down dropdown-arrow" [ngClass]="{'rotate': isDropdownOpen}"></i>
          <div class="dropdown-menu" [class.show]="isDropdownOpen">
            <a (click)="openDialog('250ms', '250ms')">Құпия сөзді өзгерту</a>
            <a (click)="logout()">Шығу</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<ng-template #dialogTemplate>
  <div class="dialog-header">
    <h2 mat-dialog-title >Құпия сөзді өзгерту</h2>
    <button mat-icon-button class="close-button" (click)="closeDialog()">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <mat-dialog-content>
    <form [formGroup]="passwordForm">
      <div class="content">

        <div class="form-group">
          <label for="fio">Ескі құпия сөз</label>
          <input type="password" id="fio" name="fio" formControlName = 'old_password'>
        </div>

        <div class="form-group">
          <label for="phone">Жаңа құпия сөз</label>
          <input type="password" id="phone" name="phone"  formControlName = 'new_password1'>
        </div>

        <div class="form-group">
          <label for="phone">Қайта терініз</label>
          <input type="password" id="password" name="phone" formControlName = 'new_password2'>
        </div>

      </div>
    </form>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button class="save-subject" (click)="onSave()">Сақтау</button>
  </mat-dialog-actions>
</ng-template>
